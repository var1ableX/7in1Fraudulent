webpackJsonp([37],{"+4Bd":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unboundValidator=t.validate=t.isValid=t.convertErrorsToObject=t.getErrors=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r("p5aI");t.getErrors=function(e){var t=i(e());return t.isSuccess?{}:o(t.value)};var o=t.convertErrorsToObject=function(e){var t=e.errors;return Object.keys(t).reduce(function(e,r){var a=t[r];return n({},e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,a.value))},{})},i=(t.isValid=function(e){return i(e()).isSuccess},t.validate=function(e){return e.reduce(function(e,t){return e.concat(t)},(0,a.Success)())});t.unboundValidator=function(e){return function(t){var r=t.state,n=t.fields,a=r.touched,o=r.errors,i=n.filter(function(e){return!(!a[e]||!o[e])}).map(function(e){return o[e]}).reduce(function(e,t){return e.concat(t)},[]).map(function(t){return e[t]||t});return i.length>0?i:null}}},"3NPH":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectDoesNotRemindModal=t.ProjectDoesNotRemindWrapper=t.LoggedOutUserForm=t.LoggedOutUserModal=t.LoggedOutWatchingWrapper=t.HeartWatching=t.HeartWrapper=t.WatchingButton=t.WatchingButtonWrapper=t.WatchingModal=t.WatchingModalWrapper=void 0;var n,a=r("GiK3"),o=(n=a)&&n.__esModule?n:{default:n},i=r("b04z"),c=r("aq1o"),l=r("ci1u"),u=r("J1uj"),d=r("Z6GA"),s=r("Z5jf"),p=r("NBJa"),f=r("wWf7");var m={email_invalid:(0,s.boundT)("project_page.back_and_star.Your_email_is_invalid"),email_presence:(0,s.boundT)("project_page.back_and_star.Your_email_must_be_present"),unknown_error:(0,s.boundT)("project_page.back_and_star.Something_went_wrong_Try_submitting")},h=(0,p.unboundValidator)(m),_=(t.WatchingModalWrapper=function(e){var t=e.state,r=e.dispatch,n=t.loggedOut?f.exitConfirmModal:f.closeAndDontShowModal;return t.modalOpen?o.default.createElement(_,{onClose:function(){return r((0,f.exitConfirmModal)())},onClick:function(){return r(n())},loggedOut:t.loggedOut}):null},t.WatchingModal=function(e){var t=e.onClose,r=e.onClick,n=e.loggedOut;return o.default.createElement(c.OverlayModal,{headerCopy:(0,s.boundT)("project_page.back_and_star.project_saved"),secondaryCloseCopy:(0,s.boundT)("project_page.back_and_star.Close"),onClose:t,size:"small"},o.default.createElement("div",{id:"focus-grabber"}),o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.well_send_you_an_email"}),!n&&o.default.createElement(o.default.Fragment,null," ",o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.well_also_use",yourRecommendationsLink:o.default.createElement("a",{href:(0,d.url)("/recommendations")},o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.your_recommendations"})),userSettingLink:o.default.createElement("a",{href:(0,d.url)("/settings")},o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.user_settings"}))}),o.default.createElement("br",null),o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.To_view_and_manage_projects",savedProjectsLink:o.default.createElement("a",{href:(0,d.url)("/profile/starred"),className:"keyboard-focusable"},o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.saved_projects"}))})),o.default.createElement(c.PrimaryModalButton,{color:"green",onClick:r},o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.ok_got_it"})))}),g=(t.WatchingButtonWrapper=function(e){var t=e.state,r=e.dispatch;return o.default.createElement("div",null,o.default.createElement(g,{state:t,onClick:function(){return r((0,f.updateWatch)())}}))},t.WatchingButton=function(e){var t=e.state,r=e.onClick,n=void 0,a="experiment_bell_follow"==t.copyVariant||"experiment_bookmark_follow"==t.copyVariant,c="experiment_bell_remind"==t.copyVariant||"experiment_bookmark_remind"==t.copyVariant;null!=t.isWatching||t.loggedOut?t.isWatching?n=a?(0,s.boundT)("project_page.back_and_star.Following"):(0,s.boundT)("project_page.back_and_star.Saved"):t.projectIsLaunched?a?n=(0,s.boundT)("project_page.back_and_star.Follow_Project"):t.projectIsLaunched&&t.projectCanRemind||c?n=(0,s.boundT)("project_page.back_and_star.Remind_me"):t.projectIsLaunched&&!t.projectCanRemind&&(n=(0,s.boundT)("project_page.back_and_star.Save")):n=(0,s.boundT)("project_page.back_and_star.Notify_me_on_launch"):n=o.default.createElement(l.Icon,{name:"icon--circle-loader",atoms:["ml1"]});var u="icon--heart";return"experiment_bell_follow"==t.copyVariant||"experiment_bell_remind"==t.copyVariant?u="icon--bell":"experiment_bookmark_follow"!=t.copyVariant&&"experiment_bookmark_remind"!=t.copyVariant||(u="icon--bookmark"),o.default.createElement(i.Button,{size:"medium",shadow:"true",atoms:"w100p",color:"white",onClick:r},o.default.createElement(l.Icon,{name:u,size:"medium",atoms:["mr1 relative t-1_6"].concat(t.isWatching?["red"]:[])}),o.default.createElement("span",{className:"text-nowrap"},n))}),v=(t.HeartWrapper=function(e){var t=e.state,r=e.dispatch,n=void 0;return t.isWatching?n=(0,s.boundT)("project_page.back_and_star.Saved"):t.projectIsLaunched&&t.projectCanRemind?n=(0,s.boundT)("project_page.back_and_star.Remind_me"):t.projectIsLaunched&&!t.projectCanRemind&&(n=(0,s.boundT)("project_page.back_and_star.Save")),o.default.createElement("button",{onClick:function(){return r((0,f.updateWatch)())},className:"f5 navy-light medium"},o.default.createElement(v,{state:t}),o.default.createElement("span",null,n))},t.HeartWatching=function(e){var t=e.state,r=["mr1 relative t-1_6 r-1_3"].concat(t.isWatching?["fill-red-500"]:[]);return o.default.createElement(l.Icon,{name:"heart",size:"small",atoms:r})}),b=(t.LoggedOutWatchingWrapper=function(e){var t=e.state,r=e.dispatch;return!!t.userFormOpen&&o.default.createElement(b,{state:t,onClose:function(){return r((0,f.exitEmailModal)())},onSubmit:function(e){return e.preventDefault(),r((0,f.submitForm)())},onEmailChange:function(e){return r((0,f.updateField)("email",e.target.value))}})},t.LoggedOutUserModal=function(e){var t=e.state,r=e.onClose,n=e.onSubmit,a=e.onEmailChange,i="control"!=t.copyVariant,l=i?(0,s.boundT)("project_page.back_and_star.Follow_this_project"):(0,s.boundT)("project_page.back_and_star.Remind_me"),u=i?o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.Dont_miss_anything_important"}):o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.Enter_your_email_address"});return o.default.createElement(c.OverlayModal,{headerCopy:l,secondaryCloseCopy:(0,s.boundT)("project_page.back_and_star.Close"),onClose:r,size:"small"},o.default.createElement("div",{className:"mb3"},u),o.default.createElement(E,{state:t,onSubmit:n,onEmailChange:a}),o.default.createElement(c.PrimaryModalButton,{color:"green",onClick:n},o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.Remind_me"})))}),y=(0,u.addErrors)(u.EmailInputField),E=t.LoggedOutUserForm=function(e){var t=e.state,r=e.onEmailChange,n=e.onSubmit;return o.default.createElement("form",{onSubmit:n},o.default.createElement(y,{placeholder:(0,s.boundT)("project_page.back_and_star.Email_address"),autoFocus:"autofocus",value:t.email||"",onChange:r,errors:h({fields:["email"],state:t})}))},I=(t.ProjectDoesNotRemindWrapper=function(e){var t=e.state,r=e.dispatch;return!!t.logInModalOpen&&o.default.createElement(I,{onClose:function(){return r((0,f.exitLogInModal)())}})},t.ProjectDoesNotRemindModal=function(e){var t=e.onClose;return o.default.createElement(c.OverlayModal,{headerCopy:(0,s.boundT)("project_page.back_and_star.Save"),secondaryCloseCopy:(0,s.boundT)("project_page.back_and_star.Close"),onClose:t,size:"small"},o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.Log_in_to_your_kickstarter_account",LogIn:o.default.createElement("a",{href:(0,d.url)("/login")},o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.Log_in"}))}),o.default.createElement("br",null),o.default.createElement("br",null),o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.Dont_have_one_yet",SignUp:o.default.createElement("a",{href:(0,d.url)("/signup")},o.default.createElement(s.BoundTranslate,{i18nKey:"project_page.back_and_star.Sign_up"}))}))})},BDs8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateUserSettingSuccess=t.submitWatchRequest=t.handleUpdateUserSetting=t.validations=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r("4RZc"),o=r("tryQ"),i=r("EIRz"),c=r("Z6GA"),l=r("ZJZe"),u=r("gRjH"),d=r("uCi4"),s=r("NBJa"),p=r("wWf7");var f=t.validations=function(e){return[(0,s.validateField)("email","email_presence",function(){return(0,s.isPresent)(e.email)}),(0,s.validateField)("email","email_invalid",function(){return(0,s.isEmail)(e.email)})]},m=function(e){return e.forEach(function(e){return o.Honeybadger.notify(e)}),(0,p.noopAction)()};t.default=function(e,t){var r=f.bind(null,e);switch(t.type){case"INITIATE_WATCHING_UPDATE":var a=t.project,o=a.isWatched,c=a.isLaunched,l=a.isWatchable,u=a.id,d=a.trackingData;return(0,i.loop)(n({},e,{trackingData:d,isWatching:o,projectIsLaunched:c,projectCanRemind:l,projectId:u}),i.Cmd.action((0,p.updateWatch)()));case"WATCHING_UPDATE":return e.loggedOut&&!e.isWatching?e.projectCanRemind?n({},e,{userFormOpen:!0}):n({},e,{logInModalOpen:!0}):v(e);case"FIELD_CHANGED":return h(e,t.field,t.value);case"FORM_SUBMITTED":return g(e,r);case"TOUCH_FIELD":return(0,s.handleTouchField)(e,t.field,r);case"TOUCH_ALL_FIELDS":return(0,s.handleTouchAllFields)(e,r);case"WATCHING_UPDATE_SUCCESS":return n({},e,{isWatching:t.isWatching,modalOpen:e.canSeeModal&&t.isWatching&&e.projectCanRemind,userFormOpen:!1});case"CONFIRM_MODAL":return b(e);case"EXIT_CONFIRM_MODAL":return n({},e,{modalOpen:!1});case"EXIT_LOGIN_MODAL":return n({},e,{logInModalOpen:!1});case"EXIT_EMAIL_MODAL":return n({},e,{userFormOpen:!1});case"EMAIL_FORM_ERROR":return _(e,t.error);case"REQUEST_ERROR":return i.Cmd.run(m,{args:[t.error]});default:return e}};var h=function(e,t,r){return(0,i.loop)(n({},e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)),i.Cmd.action((0,p.touchField)(t)))},_=function(e,t){return(0,i.loop)(n({},e,{touched:n({},e.touched,{email:!0}),errors:n({},e.errors,{email:t.message})}),i.Cmd.action((0,p.touchField)("email")))},g=function(e,t){var r=(0,s.getErrors)(t);return(0,i.loop)(e,(0,c.objectIsEmpty)(r)?i.Cmd.run(y,{args:[e],successActionCreator:E(e),failActionCreator:m}):i.Cmd.action((0,p.touchAllFields)()))},v=function(e){return(0,i.loop)(e,i.Cmd.run(y,{args:[e],successActionCreator:E(e),failActionCreator:m}))},b=t.handleUpdateUserSetting=function(e){return(0,i.loop)(n({},e,{modalOpen:!1,canSeeModal:!1}),i.Cmd.run(d.updateUserSetting,{args:[e.userId],successActionCreator:I,failActionCreator:m}))},y=t.submitWatchRequest=function(e){return(e.isWatching?u.unwatchProject:l.watchProject)(e.projectId,e.email,e.projectShareToken)},E=function(e){return function(t){var r=e.isWatching?"unwatchProject":"watchProject";if(t.errors&&e.email)return(0,p.emailFormError)(t.errors[0]);if(t.errors)return Promise.reject(t.errors);var o=t.data[r].project.isWatched,i=t.data[r].project.pid;return function(e,t,r,o){e?(0,a.track)("Project Star",n({project_pid:t,user_uid:r,type:o.tracking_type,context:o.tracking_context},o.trackingData)):(0,a.track)("Project Unstar",n({project_pid:t,user_uid:r,type:o.tracking_type,context:o.tracking_context},o.trackingData))}(o,i,t.data[r].user.uid,e),(0,p.mutationSucceeded)(o,i)}},I=t.updateUserSettingSuccess=function(e){return e.errors?Promise.reject(e.errors):(0,p.noopAction)()}},BqfC:function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=p(r("GiK3")),o=p(r("O27J")),i=r("LbfT"),c=r("Z6GA"),l=r("I2cB"),u=r("3NPH"),d=p(r("BDs8")),s=p(r("moQo"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var m=document.getElementsByClassName("watch-project-button"),h=document.getElementsByClassName("watch-project-heart"),_=document.getElementById("watch-project-modal"),g=document.getElementById("project-cant-remind-modal"),v=document.getElementById("watch-project-user-form"),b=l.maybe.fromNullable(_).chain(function(e){return JSON.parse(e.dataset.watch_project)}),y=document.getElementById("react-project-header");if(_&&v&&g&&!y){var E=n({},s.default,{isWatching:b.user_is_watching,projectIsLaunched:b.project_is_launched,projectCanRemind:b.project_can_remind,projectId:b.project_id,userId:b.user_id,canSeeModal:b.show_modal,modalOpen:!1,userFormOpen:!1,logInModalOpen:!1,loggedOut:null==b.user_is_watching,url:b.watch_url,tracking_type:"project_page",tracking_context:"project_page",projectShareToken:(0,c.getUrlParam)(window.location.href).token}),I=(0,i.createEnhancedStore)(d.default,E),O=function(){var e=I.getState(),t=I.dispatch;[].concat(f(m)).forEach(function(r){o.default.render(a.default.createElement(u.WatchingButtonWrapper,{state:e,dispatch:t}),r)}),[].concat(f(h)).forEach(function(r){o.default.render(a.default.createElement(u.HeartWrapper,{state:e,dispatch:t}),r)}),o.default.render(a.default.createElement(u.WatchingModalWrapper,{state:e,dispatch:t}),_),o.default.render(a.default.createElement(u.LoggedOutWatchingWrapper,{state:e,dispatch:t}),v),o.default.render(a.default.createElement(u.ProjectDoesNotRemindWrapper,{state:e,dispatch:t}),g)};O(),I.subscribe(O)}},C75a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateField=t.isEIN=t.isZipcode=t.isSSNLast4=t.isUnique=t.isPresent=t.isNumeric=t.isEmail=t.hasLength=t.handleTouchAllFields=t.handleTouchField=t.allFieldsTouched=t.hasError=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r("+4Bd"),i=r("p5aI"),c=r("EIRz");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.hasError=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{touched:{},errors:{}},t=arguments[1];return e.touched[t]&&!!e.errors[t]};var d=t.allFieldsTouched=function(e){return a.apply(void 0,[{}].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.map(function(e){return u({},e,!0)}))))},s=(t.handleTouchField=function(e,t,r,n){var i=(0,o.getErrors)(r),l=void 0;return l=n?function(t){return t.forEach(function(t){return n(e,t)})}:function(e){return e},(0,c.loop)(a({},e,{touched:a({},e.touched,u({},t,!0)),errors:i}),i[t]?c.Cmd.run(l,{args:[i[t]]}):c.Cmd.none)},t.handleTouchAllFields=function(e,t,r){var n=(0,o.getErrors)(t);return(0,c.loop)(a({},e,{touched:a({},d(e.fields)),errors:n}),r?c.Cmd.run(r,{args:[e,n]}):c.Cmd.none)},t.hasLength=function(e,t){return e.length===t}),p=(t.isEmail=function(e){return e&&e.match(/^.+@.+\..{2,}$/)},t.isNumeric=function(e){return!isNaN(e)}),f=(t.isPresent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof e?e.trim().length>0:null!=e&&e.length>0},t.isUnique=function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{caseSensitive:!1}).caseSensitive?-1===t.indexOf(e):-1===t.map(function(e){return e.toLowerCase()}).indexOf(e.toLowerCase())},t.isSSNLast4=function(e){return!!e&&p(e)&&s(e,4)},t.isZipcode=function(e){return!!e&&p(e)&&s(e,5)},t.isEIN=function(e){return!!e&&/^(\d[1-9]|[1-9]\d)\-\d{7}$/.test(e)},t.validateField=function(e,t,r){return r()?(0,i.Success)():(0,i.Failure)(new f(u({},e,new m([t]))))},function(){function e(t){l(this,e),this.errors=t}return n(e,[{key:"concat",value:function(t){var r=this,n=Object.keys(this.errors).concat(Object.keys(t.errors));return new e(n.filter(function(e,t){return t===n.indexOf(e)}).reduce(function(e,n){var o=r.errors[n],i=t.errors[n],c=o&&i?o.concat(i):o||i;return a({},e,u({},n,c))},{}))}}]),e}()),m=function(){function e(t){l(this,e),this.value=t}return n(e,[{key:"concat",value:function(t){return new e(this.value||t.value)}}]),e}()},HlA3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnboundFieldErrorsList=void 0;var n,a=r("GiK3"),o=(n=a)&&n.__esModule?n:{default:n};t.UnboundFieldErrorsList=function(e){return function(t){var r=t.state,n=t.forField,a=t.className,i=void 0===a?"red-500 error-messages":a,c=("string"==typeof n?[n]:n).filter(function(e){return!(!r.touched[e]||!r.errors[e])}).map(function(e){return r.errors[e]}).reduce(function(e,t){return e.concat(t)},[]);if(0===c.length)return null;return o.default.createElement("ul",{className:i},c.map(function(t){return o.default.createElement("li",{key:t},e[r=t]||r);var r}))}}},J1uj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioIndicator=t.RadioGroup=t.BaseRadioButton=t.BaseCheckbox=t.addInnerIcon=t.InputIcon=t.addErrors=t.InputErrors=t.addInlineLabel=t.addInnerLabel=t.addTooltip=t.addHeaderLabelIcon=t.addHeaderLabel=t.InputLabel=t.addFooter=t.addSibling=t.addHeader=t.RadioInputField=t.NumberInputField=t.PasswordInputField=t.EmailInputField=t.TextInputField=t.InputField=t.RadioInput=t.CheckboxInput=t.NumberInput=t.PasswordInput=t.EmailInput=t.TextInput=void 0;var n,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r("GiK3"),i=(n=o)&&n.__esModule?n:{default:n},c=r("Z6GA"),l=r("ci1u"),u=r("uA/L"),d=r("X2U3"),s=r("xgez");function p(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var f=function(e){return function(t){var r=t.atoms,n=void 0===r?[]:r,a=t.autoFocus,o=t.checked,l=t.disabled,u=void 0!==l&&l,d=t.errors,s=void 0===d?[]:d,p=t.id,f=t.name,m=t.onBlur,h=t.onChange,_=t.onClick,g=t.onFocus,v=t.onKeyDown,b=t.onKeyUp,y=t.onKeyPress,E=t.onSelect,I=t.placeholder,O=t.required,j=void 0!==O&&O,k=t.style,C=t.value,T=s&&s.length>0,w=(0,c.computedAtoms)("atomic-text-input",T&&"atomic-form-v1-error",n);return i.default.createElement("input",{"aria-invalid":T,"aria-required":j,"aria-describedby":p+"-error",autoFocus:a,checked:o,className:w,disabled:u,id:p,name:f,onBlur:m,onChange:h,onClick:_,onFocus:g,onKeyDown:v,onKeyUp:b,onKeyPress:y,onSelect:E,placeholder:I,style:k,type:e,value:C})}},m=t.TextInput=f("text"),h=t.EmailInput=f("email"),_=t.PasswordInput=f("password"),g=t.NumberInput=f("number"),v=t.CheckboxInput=f("checkbox"),b=t.RadioInput=f("radio"),y=function(e){return function(t){var r=t.wrapperAtoms,n=void 0===r?[]:r,o=t.wrapperStyle,c=t.footer,l=t.header,u=t.inputAtoms,d=void 0===u?[]:u,s=t.siblings,f=p(t,["wrapperAtoms","wrapperStyle","footer","header","inputAtoms","siblings"]),m=function(e){return e&&e.find(Boolean)};return i.default.createElement("div",{style:o,className:["relative"].concat(n).join(" ")},m(l)&&i.default.createElement("div",{className:"relative flex items-center mb1"},l),i.default.createElement("div",{className:"relative"},i.default.createElement(e,a({atoms:d},f)),m(s)&&[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(s))),m(c)&&i.default.createElement("div",{className:"relative flex items-center flex-wrap"},c))}};t.InputField=y;t.TextInputField=y(m),t.EmailInputField=y(h),t.PasswordInputField=y(_),t.NumberInputField=y(g),t.RadioInputField=y(b);var E=function(e){return function(t){return function(r){var n=r.header,o=void 0===n?[]:n,c=p(r,["header"]);return i.default.createElement(t,a({},c,{header:o.concat(e(c))}))}}};t.addHeader=E;var I=function(e){return function(t){return function(r){var n=r.siblings,o=void 0===n?[]:n,c=p(r,["siblings"]);return i.default.createElement(t,a({},c,{siblings:o.concat(e(c))}))}}};t.addSibling=I;var O=function(e){return function(t){return function(r){var n=r.footer,o=void 0===n?[]:n,c=p(r,["footer"]);return i.default.createElement(t,a({},c,{footer:o.concat(e(c))}))}}};t.addFooter=O;var j=t.InputLabel=function(e){var t=e.label,r=e.id,n=e.errors,a=e.atoms,o=(0,c.computedAtoms)("atomic-text-label",n&&n.length>0&&"atomic-text-label--errored",a);return i.default.createElement("label",{htmlFor:r,className:o},t)},k=(t.addHeaderLabel=E(function(e){var t=e.errors,r=void 0===t?[]:t,n=e.headerLabel,a=e.headerLabelAtoms,o=void 0===a?[]:a,c=e.id;return i.default.createElement(j,{atoms:o,errors:r,id:c,key:"key-"+c,label:n})}),t.addHeaderLabelIcon=E(function(e){var t=e.headerLabelIcon,r=e.headerLabelIconSize,n=void 0===r?"12":r,a=e.headerLabelIconColor,o=e.headerLabelIconAtoms,u=void 0===o?["ml1","inline-block"]:o,d=(0,c.computedAtoms)(u,"fill-"+a);return i.default.createElement(l.Icon,{name:t,size:n,atoms:d,key:"key-"+t})}),t.addTooltip=E(function(e){var t=e.tooltipText,r=e.tooltipIcon,n=e.tooltipIconSize,a=void 0===n?"12":n,o=e.tooltipIconColor,u=e.tooltipIconAtoms,d=void 0===u?["ml1","inline-block"]:u,s=(0,c.computedAtoms)(d,"fill-"+o);return i.default.createElement("a",{className:"ksr-tooltip ksr-tooltip--large lh0","data-tooltip":t},i.default.createElement(l.Icon,{name:r,size:a,atoms:s}))}),t.addInnerLabel=I(function(e){var t=e.id,r=e.innerLabel,n=e.innerLabelAtoms,a=void 0===n?[]:n;return i.default.createElement(j,{label:r,id:t,atoms:a.concat(["atomic-text-label-fixed","l0"]),key:"key-"+t})}),t.addInlineLabel=I(function(e){var t=e.id,r=e.inlineLabel,n=e.inlineLabelAtoms,a=void 0===n?[]:n;return i.default.createElement(j,{label:r,id:t,atoms:a.concat(["atomic-text-label-fixed"]),key:"key-"+t})}),t.InputErrors=function(e){var t=e.errors,r=e.name,n=e.id;return t&&0!==t.length?i.default.createElement("ul",{className:"red-500 mt1"},t.map(function(e,t){return i.default.createElement("li",{key:r+"-error-"+t,id:n+"-error"},e)})):null}),C=(t.addErrors=O(function(e){var t=e.errors,r=e.name,n=e.id;return i.default.createElement(k,{errors:t,name:r,id:n,key:"key-"+r+"-"+t})}),t.InputIcon=function(e){var t=e.icon,r=e.size,n=e.atoms,a=void 0===n?[]:n,o=e.color;return i.default.createElement("div",{className:(0,c.computedAtoms)(a)},i.default.createElement(l.Icon,{name:t,size:r,atoms:["fill-"+o]}))});t.addInnerIcon=I(function(e){var t=e.innerIcon,r=e.innerIconSize,n=void 0===r?"12":r,a=e.innerIconColor,o=void 0===a?"dark-grey-400":a;return i.default.createElement(C,{key:"key-"+t,icon:t,size:n,color:o,atoms:["h100p","flex","items-center","justify-center","absolute","t0","r2"]})});t.BaseCheckbox=function(e){var t=e.id,r=e.label,n=e.large,o=void 0!==n&&n,u=e.atoms,d=void 0===u?[]:u,s=e.tag,f=void 0===s?"div":s,m=p(e,["id","label","large","atoms","tag"]);if(!r)throw new Error("A label is required");var h=!0===o?"12":"9",_=(0,c.computedAtoms)("form-checkbox",!0===o?"form-checkbox--large":"form-checkbox--small",d),g=f;return i.default.createElement(g,{className:_},i.default.createElement(v,a({id:t},m)),i.default.createElement("label",{className:"input-label pointer",htmlFor:t},i.default.createElement("span",{className:"input-state-indicator"},i.default.createElement(l.Icon,{name:"check",size:h,atoms:["fill-white"]})),i.default.createElement("span",{className:"input-label__text"},r)))};var T=t.BaseRadioButton=function(e){var t=e.id,r=e.name,n=e.option,a=e.isSelected,o=e.onChange,l=e.onKeyDown,s=e.theme,p=void 0===s?d.defaultTheme:s,f=n.expandedComponent,m=n.label,h=n.value,_=n.subheader;return i.default.createElement("div",{className:(0,c.computedAtoms)("border-grey-400 transition-300 border mb1 rounded",!a&&"hover-border-dark-grey-500"),"aria-checked":a,tabIndex:a?"0":"-1",role:"radio",onKeyDown:l},i.default.createElement("label",{htmlFor:t,className:"flex p3 pointer"},i.default.createElement("div",null,i.default.createElement("input",{type:"radio",name:r,id:t,value:h,className:"super-hide",onChange:o,checked:a}),i.default.createElement("div",{className:"mt1_2"},i.default.createElement(w,{isSelected:a,theme:p}))),i.default.createElement("div",{className:"grow-1"},i.default.createElement(u.Span,{type:"body-100",color:"soft-black",atoms:["block"],weight:"regular"},m),_&&i.default.createElement(u.Span,{type:"caption-200",color:"dark-grey-500",weight:"regular"},_))),a&&f&&i.default.createElement("div",{className:"border-grey-400 border-top p3"},f))},w=(t.RadioGroup=function(e){var t=e.id,r=e.radioGroupOptions,n=e.state,a=e.dispatch,o=e.onChangeAction,c=void 0===o?s.radioGroupOptionSelected:o,l=e.theme,u=void 0===l?d.defaultTheme:l,p=e.RadioButton,f=void 0===p?T:p,m=e.customEventListeners,h=r&&r.length-1,_=r.map(function(e,r){var o=n.selectedOptionIndex===r,l=t+"-radio-option-"+r;return i.default.createElement(f,{isSelected:o,customEventListeners:m,onChange:function(){return a(c(e,r))},onKeyDown:function(e){if(e.target===e.currentTarget&&(0,s.radioGroupWillHandleKey)(e.keyCode))return e.preventDefault(),a((0,s.radioGroupKeydown)(e.keyCode,e.target,r,h))},dispatch:a,option:e,key:l,id:l,name:t,theme:u})});return i.default.createElement("div",{id:t,role:"radiogroup"},_)},t.RadioIndicator=function(e){var t=e.theme,r=void 0===t?d.defaultTheme:t,n=e.isSelected,a=["block","circle","h3","mr1","mr3-md","w3",n?"bg-"+r["primary-light"]:"bg-white"].join(" "),o=["inset 0 1px 3px rgba(0, 0, 0, 0.2)","inset 0 0 0 1px rgba(0, 0, 0, 0.2)"].join(", ");return i.default.createElement("div",{className:a,style:{boxShadow:o}},n&&i.default.createElement("div",{className:"bg-white h1 w1 circle inline-block m1"}))})},NBJa:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Failure=t.Success=t.Validation=t.validateField=t.validate=t.unboundValidator=t.UnboundFieldErrorsList=t.isValid=t.isPresent=t.isEmail=t.hasError=t.handleTouchAllFields=t.handleTouchField=t.getErrors=void 0;var n=r("HlA3"),a=r("p5aI"),o=r("C75a"),i=r("+4Bd");t.getErrors=i.getErrors,t.handleTouchField=o.handleTouchField,t.handleTouchAllFields=o.handleTouchAllFields,t.hasError=o.hasError,t.isEmail=o.isEmail,t.isPresent=o.isPresent,t.isValid=i.isValid,t.UnboundFieldErrorsList=n.UnboundFieldErrorsList,t.unboundValidator=i.unboundValidator,t.validate=i.validate,t.validateField=o.validateField,t.Validation=a.Validation,t.Success=a.Success,t.Failure=a.Failure},X2U3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultTheme={name:"default","primary-light":"soft-black","primary-dark":"black","primary-accent":"ksr-green-400"}},ZJZe:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchProject=void 0;var n=r("Z6GA");t.watchProject=function(e,t,r){var a=r?{share_token:r}:null;return(0,n.fetchGraph)("\n  mutation($projectId: ID!, $email: Email) {\n    watchProject(input:{id: $projectId, email: $email}) {\n      project {\n        isWatched(user_email: $email)\n        pid\n      },\n      user {\n        uid\n      }\n    }\n  }\n",{projectId:e,email:t},a)}},gRjH:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unwatchProject=void 0;var n=r("Z6GA");t.unwatchProject=function(e,t,r){var a=r?{share_token:r}:null;return(0,n.fetchGraph)("\n  mutation($projectId: ID!, $email: Email) {\n    unwatchProject(input:{id: $projectId, email: $email}) {\n      project {\n        isWatched(user_email: $email)\n        pid\n      },\n      user {\n        uid\n      }\n    }\n  }\n",{projectId:e,email:t},a)}},moQo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(window.current_variants||[]).reduce(function(e,t){return t&&-1!=t.indexOf("watch_copy")?(n=(r=t).indexOf("]"),a=r.indexOf("["),r.substr(a+1,n-a-1)):e;var r,n,a},null);t.default={isWatching:!1,projectIsLaunched:!1,projectCanRemind:!1,projectId:"",modalOpen:!1,canSeeModal:!1,userFormOpen:!1,email:null,fields:["email"],touched:{},errors:{},loggedOut:!1,logInModalOpen:!1,userId:"",url:"",tracking_type:"",tracking_context:"",projectShareToken:"",copyVariant:n}},p5aI:function(e,t,r){"use strict";function n(){}function a(e){if(!(this instanceof a))return new a(e);this.value=e}function o(e){if(!(this instanceof o))return new o(e);this.value=e}Object.defineProperty(t,"__esModule",{value:!0}),a.prototype=new n,o.prototype=new n,a.prototype.isSuccess=!0,a.prototype.isFailure=!1,o.prototype.isSuccess=!1,o.prototype.isFailure=!0,a.prototype.toString=function(){return"Validation.Success("+this.value+")"},o.prototype.toString=function(){return"Validation.Failure("+this.value+")"},a.prototype.concat=function(e){return e},o.prototype.concat=function(e){return e.isSuccess?this:o(this.value.concat(e.value))},t.Validation=n,t.Success=a,t.Failure=o},tryQ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Honeybadger=void 0;var n,a=r("tskP"),o=(n=a)&&n.__esModule?n:{default:n},i=r("pS1G");if(window.honeybadgerConfiguration){var c=window.honeybadgerConfiguration;/(kickstarter\.com|d\.rip)$/.test(window.location.hostname)||(c.disabled=!0),o.default.configure(c)}"function"==typeof o.default.setContext&&o.default.setContext((0,i.buildHoneybadgerContext)()),"function"==typeof o.default.beforeNotify&&o.default.beforeNotify(function(e){if(/(ksr|drip)\.test/.test(window.location.hostname))return console.error("Honeybadger in development",e),!1}),t.Honeybadger=o.default},"uA/L":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Strong=t.Em=t.Div=t.Span=t.Label=t.Paragraph=t.Heading=t.FONTS=t.DEFAULT_FONT=void 0;var n,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r("GiK3"),i=(n=o)&&n.__esModule?n:{default:n};var c=t.DEFAULT_FONT="helvetica",l=t.FONTS={helvetica:{sizes:{"headline-500":"type-38 type-48-sm type-60-md type-100-lg","headline-400":"type-38 type-48-sm type-60-md type-80-lg","headline-300":"type-21 type-38-md type-48-lg","headline-200":"type-24 type-28-md type-38-lg","headline-100":"type-21 type-24-md type-28-lg","subhead-600":"type-18 type-21-md","subhead-500":"type-16 type-21-md","subhead-400":"type-14 type-21-md","subhead-300":"type-16 type-18-md","subhead-200":"type-14 type-18-md","body-200":"type-14 type-16-md","body-100":"type-13 type-14-md","caption-200":"type-12 type-13-md","caption-100":"type-12"},variants:{italic:"text-italic"},weights:{light:"light",normal:"normal",medium:"medium",bold:"bold"}}},u=function(e){var t=e.atoms,r=void 0===t?[]:t,n=e.children,a=e.color,o=e.font,u=void 0===o?l[c]:o,d=e.italic,s=void 0!==d&&d,p=e.level,f=e.style,m=e.tag,h=e.type,_=e.weight,g=p?"h"+p:m,v=(h?[u.sizes[h]]:[]).concat(a?[a]:[]).concat(s?[u.variants.italic]:[]).concat(_?[u.weights[_]]:[]).concat(r).join(" ");return i.default.createElement(g,{style:f,className:v},n)};t.Heading=function(e){var t=e.level,r=void 0===t?3:t,n=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["level"]);return i.default.createElement(u,a({level:r},n),n.children)};t.Paragraph=function(e){return i.default.createElement(u,a({},e,{tag:"p"}),e.children)},t.Label=function(e){return i.default.createElement(u,a({},e,{tag:"label"}),e.children)},t.Span=function(e){return i.default.createElement(u,a({},e,{tag:"span"}),e.children)},t.Div=function(e){return i.default.createElement(u,a({},e,{tag:"div"}),e.children)},t.Em=function(e){return i.default.createElement(u,a({},e,{tag:"em",italic:!0}),e.children)},t.Strong=function(e){return i.default.createElement(u,a({},e,{tag:"strong",weight:"medium"}),e.children)}},uCi4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateUserSetting=void 0;var n=r("Z6GA");t.updateUserSetting=function(e){return(0,n.fetchGraph)("\n  mutation($userId: ID!) {\n    updateUserSetting(input:{id: $userId}) {\n      userConfirmedNotice\n    }\n  }\n",{userId:e})}},wWf7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.initiateWatchingUpdate=function(e){return{type:"INITIATE_WATCHING_UPDATE",project:e}},t.updateField=function(e,t){return{type:"FIELD_CHANGED",field:e,value:t}},t.submitForm=function(){return{type:"FORM_SUBMITTED"}},t.touchField=function(e){return{type:"TOUCH_FIELD",field:e}},t.touchAllFields=function(){return{type:"TOUCH_ALL_FIELDS"}},t.updateWatch=function(){return{type:"WATCHING_UPDATE"}},t.mutationSucceeded=function(e,t){return{type:"WATCHING_UPDATE_SUCCESS",isWatching:e,pid:t}},t.closeAndDontShowModal=function(){return{type:"CONFIRM_MODAL"}},t.exitConfirmModal=function(){return{type:"EXIT_CONFIRM_MODAL"}},t.exitEmailModal=function(){return{type:"EXIT_EMAIL_MODAL"}},t.emailFormError=function(e){return{type:"EMAIL_FORM_ERROR",error:e}},t.requestError=function(e){return{type:"REQUEST_ERROR",error:e}},t.exitLogInModal=function(){return{type:"EXIT_LOGIN_MODAL"}},t.noopAction=function(){return{type:"NOOP"}},t.noopConfirm=function(){return{type:"NOOP_CONFIRM_BUTTON"}}},xgez:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.focusPreviousOption=t.focusNextOption=t.radioGroupReducer=t.radioGroupOptionSelected=t.radioGroupKeydown=t.initialRadioGroupState=t.radioGroupWillHandleKey=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r("EIRz"),o=r("Tvaj"),i=[o.DOWN,o.LEFT,o.RIGHT,o.SPACE,o.UP],c=(t.radioGroupWillHandleKey=function(e){return i.includes(e)},t.initialRadioGroupState={selectedOptionIndex:null}),l=(t.radioGroupKeydown=function(e,t,r,n){return{type:"RADIO_GROUP_KEYDOWN",keycode:e,target:t,currentIndex:r,maximumIndex:n}},t.radioGroupOptionSelected=function(e,t){return{type:"RADIO_GROUP_OPTION_SELECTED",index:t}},t.radioGroupReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"NOOP":return e;case"RADIO_GROUP_KEYDOWN":var r=t.currentIndex,a=t.keycode,o=t.target,i=t.maximumIndex;return d(a,o,r,i,e);case"RADIO_GROUP_OPTION_SELECTED":return n({},e,{selectedOptionIndex:t.index});default:return e}},t.focusNextOption=function(e){var t=e.nextElementSibling;t?t.focus():e.parentNode.firstChild.focus()}),u=t.focusPreviousOption=function(e){var t=e.previousElementSibling;t?t.focus():e.parentNode.lastChild.focus()},d=function(e,t,r,i,c){switch(e){case o.LEFT:case o.UP:return(0,a.loop)(n({},c,{selectedOptionIndex:p(c.selectedOptionIndex,i)}),a.Cmd.run(u,{args:[t]}));case o.RIGHT:case o.DOWN:return(0,a.loop)(n({},c,{selectedOptionIndex:s(c.selectedOptionIndex,i)}),a.Cmd.run(l,{args:[t]}));case o.SPACE:return n({},c,{selectedOptionIndex:r});default:return c}},s=function(e,t){return e>=t?0:e+1},p=function(e,t){return!e||e<1?t:e-1}}},["BqfC"]);
//# sourceMappingURL=watching.06d5d6572bea1f3719c2.js.map